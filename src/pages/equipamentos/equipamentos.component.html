<div class="equipamentos-wrapper">
  <h2>Equipamentos</h2>

  <div class="filters">
    <input placeholder="Nome" [(ngModel)]="filtros.nome">
    <input placeholder="Número de Série" [(ngModel)]="filtros.numeroSerie">
    <input placeholder="Descrição" [(ngModel)]="filtros.descricao">
    <label>
      Disponível
      <select [(ngModel)]="filtros.disponivel">
        <option value="">Todos</option>
        <option value="true">Sim</option>
        <option value="false">Não</option>
      </select>
    </label>
    <button (click)="filtrar()">Filtrar</button>
  </div>

  <div class="novo">
    <input placeholder="Nome" [(ngModel)]="novo.nome">
    <input placeholder="Número de Série" [(ngModel)]="novo.numeroSerie">
    <input placeholder="Descrição" [(ngModel)]="novo.descricao">
    <input type="number" placeholder="Quantidade" [(ngModel)]="novo.quantidade">
    <label>
      Disponível
      <select [(ngModel)]="novo.disponivel">
        <option [ngValue]="true">Sim</option>
        <option [ngValue]="false">Não</option>
      </select>
    </label>
    <button (click)="cadastrar()">Cadastrar</button>
  </div>

  <p *ngIf="loading">Carregando...</p>
  <p *ngIf="errorMsg" class="error">{{ errorMsg }}</p>

  <table>
    <thead>
      <tr>
        <th>Nome</th>
        <th>Número de Série</th>
        <th>Descrição</th>
        <th>Quantidade</th>
        <th>Disponível</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let e of lista">
        <td><input [(ngModel)]="e.nome"></td>
        <td><input [(ngModel)]="e.numeroSerie"></td>
        <td><input [(ngModel)]="e.descricao"></td>
        <td><input type="number" [(ngModel)]="e.quantidade"></td>
        <td>
          <select [(ngModel)]="e.disponivel">
            <option [ngValue]="true">Sim</option>
            <option [ngValue]="false">Não</option>
          </select>
        </td>
        <td>
          <button (click)="atualizar(e)">Salvar</button>
          <button (click)="deletar(e)">Excluir</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>